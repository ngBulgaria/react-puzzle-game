(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){},,function(e,t,n){e.exports=n(15)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),l=n(3),o=n.n(l);n(2),n(13);var c=function(e){let{piece:t,handlePieceClick:n,isMovable:i}=e;const l=`puzzle-piece ${i?"":"inactive"}`;return a.a.createElement("div",{className:l,onClick:()=>t&&n(t.position)},t&&a.a.createElement("img",{src:t.src,alt:`puzzle-piece-${t.position}`,style:{width:"100%",height:"100%"}}))};const r=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},s=(e,t,n)=>{const i=Math.floor(e/n),a=e%n,l=Math.floor(t/n),o=t%n;return i===l&&1===Math.abs(a-o)||a===o&&1===Math.abs(i-l)};n(14);var u=function(){const[e,t]=Object(i.useState)(null),[n,l]=Object(i.useState)([]),[o,u]=Object(i.useState)(3),[h,d]=Object(i.useState)(3),[m,p]=Object(i.useState)(null),[g,w]=Object(i.useState)(null),[f,b]=Object(i.useState)(0),[v,E]=Object(i.useState)(0),C=Object(i.useCallback)(()=>{const t=new Image;t.src=e,t.onload=(()=>{const e=.95*window.innerWidth,n=.8*window.innerHeight;let i,a;window.innerWidth>window.innerHeight?(a=n,(i=t.width*a/t.height)>.95*window.innerWidth&&(i=.95*window.innerWidth,a=t.height*i/t.width)):(i=e,(a=t.height*i/t.width)>.95*window.innerHeight&&(a=.95*window.innerHeight,i=t.width*a/t.height)),b(i),E(a);const c=i/h,r=a/o,s=document.createElement("canvas"),u=s.getContext("2d"),d=[];for(let l=0;l<o;l++)for(let e=0;e<h;e++)s.width=c,s.height=r,u.clearRect(0,0,s.width,s.height),u.drawImage(t,e*(t.width/h),l*(t.height/o),t.width/h,t.height/o,0,0,s.width,s.height),d.push({src:s.toDataURL(),index:l*h+e,position:l*h+e});l(d),p(null),w(null)})},[e,o,h]),j=e=>{if(s(e,m,h)){const t=[...n],i=t.findIndex(t=>t.position===e);t[i].position=m,p(e),l(t),(()=>{if(n.length===o*h-1&&n.every(e=>e.position===e.index)&&g){const e=[...n,{...g,position:o*h-1}];l(e),p(null)}})()}};return Object(i.useEffect)(()=>{e&&C()},[e,o,h,C]),a.a.createElement("div",null,a.a.createElement("div",{className:"puzzle-controls"},a.a.createElement("input",{type:"file",accept:"image/*",onChange:e=>{const n=e.target.files[0],i=new FileReader;i.onload=(e=>{t(e.target.result)}),n&&i.readAsDataURL(n)}}),a.a.createElement("label",null,"Rows:",a.a.createElement("input",{type:"number",value:o,onChange:e=>u(Number(e.target.value))})),a.a.createElement("label",null,"Columns:",a.a.createElement("input",{type:"number",value:h,onChange:e=>d(Number(e.target.value))})),a.a.createElement("button",{onClick:()=>{let e=[...n];const t=o*h-1,i=e.find(e=>e.index===t);w(i),e=e.filter(e=>e.index!==t),e=(e=r(e)).map((e,t)=>({...e,position:t})),p(t),l(e)}},"Randomize")),n.length>0&&a.a.createElement("div",{className:"puzzle-container",style:{gridTemplateColumns:`repeat(${h}, 1fr)`,width:`${f}px`,height:`${v}px`}},Array.from({length:o*h}).map((e,t)=>{const i=n.find(e=>e.position===t);return a.a.createElement(c,{key:t,piece:i,handlePieceClick:j,isMovable:i&&s(t,m,h)})})))};var h=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(u,null))};var d=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then(t=>{let{getCLS:n,getFID:i,getFCP:a,getLCP:l,getTTFB:o}=t;n(e),i(e),a(e),l(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null))),d()}],[[4,1,2]]]);
//# sourceMappingURL=main.fa5a77d8.chunk.js.map